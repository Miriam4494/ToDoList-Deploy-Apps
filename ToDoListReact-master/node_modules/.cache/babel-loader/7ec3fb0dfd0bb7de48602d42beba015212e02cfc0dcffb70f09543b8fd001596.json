{"ast":null,"code":"import axios from 'axios';\nconst apiUrl = \"https://localhost:5144\"; // כתובת ה-API\n\n// הוספת Interceptor לתפיסת שגיאות ורישום ללוג\naxios.interceptors.response.use(response => response,\n// מחזיר את התגובה כרגיל אם אין שגיאה\nerror => {\n  var _error$response, _error$response2;\n  console.error('API Error:', {\n    message: error.message,\n    status: (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status,\n    data: (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data\n  });\n  return Promise.reject(error); // מחזיר את השגיאה לצורך טיפול מאוחר יותר\n});\nexport default {\n  // שליפת כל המשימות\n  getTasks: async () => {\n    try {\n      const result = await axios.get(`${apiUrl}/itemדs`);\n      return Array.isArray(result.data) ? result.data : [];\n    } catch (error) {\n      alert(\"Failed to load tasks.\");\n      return [];\n    }\n  },\n  // הוספת משימה חדשה\n  addTask: async name => {\n    console.log('Adding task:', name);\n    try {\n      const result = await axios.post(`${apiUrl}/`, {\n        Name: name,\n        isComplete: false\n      });\n      return result.data; // מחזיר את המידע של המשימה שנוספה\n    } catch (error) {\n      alert(\"Failed to add task.\");\n      return null; // במקרה של שגיאה, מחזיר null או משתנה אחר להודעה\n    }\n  },\n  // עדכון סטטוס משימה\n  setCompleted: async (id, isComplete) => {\n    console.log('Updating task', {\n      id,\n      isComplete\n    });\n    try {\n      const result = await axios.put(`${apiUrl}/tasks/${id}`, {\n        isComplete\n      });\n      return result.data;\n    } catch (error) {\n      alert(\"Failed to update task.\");\n      return null;\n    }\n  },\n  // מחיקת משימה\n  deleteTask: async id => {\n    console.log('Deleting task:', id);\n    try {\n      const result = await axios.delete(`${apiUrl}/tasks/${id}`);\n      return result.data;\n    } catch (error) {\n      alert(\"Failed to delete task.\");\n      return null;\n    }\n  }\n};","map":{"version":3,"names":["axios","apiUrl","interceptors","response","use","error","_error$response","_error$response2","console","message","status","data","Promise","reject","getTasks","result","get","Array","isArray","alert","addTask","name","log","post","Name","isComplete","setCompleted","id","put","deleteTask","delete"],"sources":["C:/מירי/תכנות/שנה ב/פרקטיקוד/ToDoListFullStack/ToDoListReact-master/src/service.js"],"sourcesContent":["\nimport axios from 'axios';\n\nconst apiUrl = \"https://localhost:5144\";  // כתובת ה-API\n\n// הוספת Interceptor לתפיסת שגיאות ורישום ללוג\naxios.interceptors.response.use(\n  response => response, // מחזיר את התגובה כרגיל אם אין שגיאה\n  error => {\n    console.error('API Error:', {\n      message: error.message,\n      status: error.response?.status,\n      data: error.response?.data\n    });\n    return Promise.reject(error); // מחזיר את השגיאה לצורך טיפול מאוחר יותר\n  }\n);\n\nexport default {\n  // שליפת כל המשימות\n  getTasks: async () => {\n    try {\n      const result = await axios.get(`${apiUrl}/itemדs`);\n      return Array.isArray(result.data) ? result.data : [];\n    } catch (error) {\n      alert(\"Failed to load tasks.\");\n      return [];\n    }\n  },\n\n  // הוספת משימה חדשה\n  addTask: async (name) => {\n    console.log('Adding task:', name);\n    try {\n      const result = await axios.post(`${apiUrl}/`, { Name: name, isComplete: false });\n      return result.data; // מחזיר את המידע של המשימה שנוספה\n    } catch (error) {\n      alert(\"Failed to add task.\");\n      return null; // במקרה של שגיאה, מחזיר null או משתנה אחר להודעה\n    }\n  },\n\n  // עדכון סטטוס משימה\n  setCompleted: async (id, isComplete) => {\n    console.log('Updating task', { id, isComplete });\n    try {\n      const result = await axios.put(`${apiUrl}/tasks/${id}`, { isComplete });\n      return result.data;\n    } catch (error) {\n      alert(\"Failed to update task.\");\n      return null;\n    }\n  },\n\n  // מחיקת משימה\n  deleteTask: async (id) => {\n    console.log('Deleting task:', id);\n    try {\n      const result = await axios.delete(`${apiUrl}/tasks/${id}`);\n      return result.data;\n    } catch (error) {\n      alert(\"Failed to delete task.\");\n      return null;\n    }\n  }\n};\n\n"],"mappings":"AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,MAAM,GAAG,wBAAwB,CAAC,CAAE;;AAE1C;AACAD,KAAK,CAACE,YAAY,CAACC,QAAQ,CAACC,GAAG,CAC7BD,QAAQ,IAAIA,QAAQ;AAAE;AACtBE,KAAK,IAAI;EAAA,IAAAC,eAAA,EAAAC,gBAAA;EACPC,OAAO,CAACH,KAAK,CAAC,YAAY,EAAE;IAC1BI,OAAO,EAAEJ,KAAK,CAACI,OAAO;IACtBC,MAAM,GAAAJ,eAAA,GAAED,KAAK,CAACF,QAAQ,cAAAG,eAAA,uBAAdA,eAAA,CAAgBI,MAAM;IAC9BC,IAAI,GAAAJ,gBAAA,GAAEF,KAAK,CAACF,QAAQ,cAAAI,gBAAA,uBAAdA,gBAAA,CAAgBI;EACxB,CAAC,CAAC;EACF,OAAOC,OAAO,CAACC,MAAM,CAACR,KAAK,CAAC,CAAC,CAAC;AAChC,CACF,CAAC;AAED,eAAe;EACb;EACAS,QAAQ,EAAE,MAAAA,CAAA,KAAY;IACpB,IAAI;MACF,MAAMC,MAAM,GAAG,MAAMf,KAAK,CAACgB,GAAG,CAAC,GAAGf,MAAM,SAAS,CAAC;MAClD,OAAOgB,KAAK,CAACC,OAAO,CAACH,MAAM,CAACJ,IAAI,CAAC,GAAGI,MAAM,CAACJ,IAAI,GAAG,EAAE;IACtD,CAAC,CAAC,OAAON,KAAK,EAAE;MACdc,KAAK,CAAC,uBAAuB,CAAC;MAC9B,OAAO,EAAE;IACX;EACF,CAAC;EAED;EACAC,OAAO,EAAE,MAAOC,IAAI,IAAK;IACvBb,OAAO,CAACc,GAAG,CAAC,cAAc,EAAED,IAAI,CAAC;IACjC,IAAI;MACF,MAAMN,MAAM,GAAG,MAAMf,KAAK,CAACuB,IAAI,CAAC,GAAGtB,MAAM,GAAG,EAAE;QAAEuB,IAAI,EAAEH,IAAI;QAAEI,UAAU,EAAE;MAAM,CAAC,CAAC;MAChF,OAAOV,MAAM,CAACJ,IAAI,CAAC,CAAC;IACtB,CAAC,CAAC,OAAON,KAAK,EAAE;MACdc,KAAK,CAAC,qBAAqB,CAAC;MAC5B,OAAO,IAAI,CAAC,CAAC;IACf;EACF,CAAC;EAED;EACAO,YAAY,EAAE,MAAAA,CAAOC,EAAE,EAAEF,UAAU,KAAK;IACtCjB,OAAO,CAACc,GAAG,CAAC,eAAe,EAAE;MAAEK,EAAE;MAAEF;IAAW,CAAC,CAAC;IAChD,IAAI;MACF,MAAMV,MAAM,GAAG,MAAMf,KAAK,CAAC4B,GAAG,CAAC,GAAG3B,MAAM,UAAU0B,EAAE,EAAE,EAAE;QAAEF;MAAW,CAAC,CAAC;MACvE,OAAOV,MAAM,CAACJ,IAAI;IACpB,CAAC,CAAC,OAAON,KAAK,EAAE;MACdc,KAAK,CAAC,wBAAwB,CAAC;MAC/B,OAAO,IAAI;IACb;EACF,CAAC;EAED;EACAU,UAAU,EAAE,MAAOF,EAAE,IAAK;IACxBnB,OAAO,CAACc,GAAG,CAAC,gBAAgB,EAAEK,EAAE,CAAC;IACjC,IAAI;MACF,MAAMZ,MAAM,GAAG,MAAMf,KAAK,CAAC8B,MAAM,CAAC,GAAG7B,MAAM,UAAU0B,EAAE,EAAE,CAAC;MAC1D,OAAOZ,MAAM,CAACJ,IAAI;IACpB,CAAC,CAAC,OAAON,KAAK,EAAE;MACdc,KAAK,CAAC,wBAAwB,CAAC;MAC/B,OAAO,IAAI;IACb;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}